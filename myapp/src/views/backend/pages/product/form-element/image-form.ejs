<% imageForm=()=> { %>
<div class="container-grid">
  <% if (item.id !== '' && typeof item.id !== "undefined"){
  console.log(item.img); item.img.forEach((image, index)=>{ %>
  <div class="preview">
    <img class="img-preview" src="/backend/upload/product/<%= image %>" />
    <label for="file-input">Upload Image <%= index + 1 %></label>
    <input
      accept="image/*"
      type="file"
      class="file-input"
      name="images"
      multiple
    />
  </div>
  <%})} else { %>
  <div class="preview">
    <img class="img-preview" src="/backend/upload/no-img.jpg" />

    <label for="file-input">Upload Image 1</label>
    <input type="file" class="file-input" name="images" mutiple />
  </div>
  <div class="preview">
    <img class="img-preview" src="/backend/upload/no-img.jpg" />

    <label for="file-input">Upload Image 2</label>
    <input type="file" class="file-input" name="images" mutiple />
  </div>
  <div class="preview">
    <img class="img-preview" src="/backend/upload/no-img.jpg" />

    <label for="file-input">Upload Image 3</label>
    <input type="file" class="file-input" name="images" mutiple />
  </div>
  <div class="preview">
    <img class="img-preview" src="/backend/upload/no-img.jpg" />

    <label for="file-input">Upload Image 4</label>
    <input type="file" class="file-input" name="images" mutiple />
  </div>
  <%} %>
</div>
<style>
  .container-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-gap: 20px;
  }

  .preview {
    position: relative;
  }

  .img-preview {
    width: 100%;
    height: 100%;
    object-fit: contain;
  }

  .file-input {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
  }

  /* Optional styling for the preview container */
  .preview {
    width: 100%;
    height: 200px; /* Set a fixed height for consistent image display */
    border: 2px solid #ccc;
    border-radius: 8px;
    overflow: hidden; /* Ensure images are clipped to the container */
  }

  /* Optional styling for the label */
  .preview label {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #fff;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
</style>
<script>
  const inputs = document.querySelectorAll(".file-input");
  const images = document.querySelectorAll(".img-preview");

  inputs.forEach((input, index) => {
    input.addEventListener("change", (e) => {
      if (e.target.files.length) {
        let file = e.target.files[0]; // Get the first file from the FileList
        let src = URL.createObjectURL(file);
        images[index].src = src;
      }
    });
  });
</script>

<% } %>
